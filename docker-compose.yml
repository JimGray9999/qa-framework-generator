services:
  qa-generator:
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "3001:3001"
    environment:
      - ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}
      - NODE_ENV=production
      - DOCKER=true
    volumes:
      # Temp directory for test execution
      - /tmp/qa-tests:/tmp/qa-tests
    
    # Resource limits
    deploy:
      resources:
        limits:
          memory: 4G
